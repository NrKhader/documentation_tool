{% extends "base.html" %}
{% block title %}Documentation Tool{% endblock %}
{% block content %}
<div class="container">
    <h2 style="margin-bottom: 1.2em;">Documents</h2>
    <ul class="folder-tree">
        {% macro render_tree(tree, level=0) %}
            {% for node in tree %}
                {% if node.type == 'folder' %}
                    <li class="folder" data-path="{{ node.path }}" style="margin-left: {{ level * 18 }}px;">
                        <span class="folder-label" style="cursor:pointer;">
                            📁 {{ node.name }}
                        </span>
                        <ul style="margin-left: 0;">
                            {{ render_tree(node.children, level+1) }}
                        </ul>
                    </li>
                {% else %}
                    <li class="file" draggable="true" data-path="{{ node.path }}" style="margin-left: {{ level * 18 }}px;">
                        <span style="margin-right: 6px;">📄</span>
                        <a href="{{ url_for('page', doc_path=node.path) }}">{{ node.name }}</a>
                    </li>
                {% endif %}
            {% endfor %}
        {% endmacro %}
        {{ render_tree(doc_tree) }}
    </ul>
</div>
{% endblock %}
